[supervisord]
logfile = /var/log/pactbroker/supervisord.log
logfile_maxbytes = 50MB
logfile_backups = 10
loglevel = info
pidfile = /var/run/supervisord.pid
identifier = nibbler-supervisor
directory = /var/run

[program:pactbroker]
directory=/var/run/pactbroker
command=bundle exec puma -C puma.rb
autostart=true
autorestart=true
redirect_stderr=true
stderr_logfile=/var/log/pactbroker/%(program_name)_stderr.log
stdout_logfile=/var/log/pactbroker/%(program_name)_stdout.log

[program:nginx]
directory=/var/www
command=/usr/sbin/nginx
user=root
group=root
autostart=true
autorestart=true
redirect_stderr=true
stderr_logfile=/var/log/pactbroker/%(program_name)_stderr.log
stdout_logfile=/var/log/pactbroker/%(program_name)_stdout.log
